<h5 class="upl-title">Carregar novo ficheiro</h5>

<div class="mdl-grid mdl-grid__full">
  <div class="mdl-cell mdl-cell--12-col">
    <div class="mdl-textfield mdl-js-textfield">
      <input class="inputfile" type="file" name="file" id="file" data-multiple-caption="{count} ficheiros selecionados" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
      <label for="file">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg>
        <span>Escolha um ficheiro&hellip;</span>
      </label>
    </div>
  </div>
  <div class="mdl-cell mdl-cell--12-col">
    <div class="mdl-textfield mdl-js-textfield">
      <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="seq" id="seq">
      <label class="mdl-textfield__label" for="seq">Sequência</label>
      <span class="mdl-textfield__error">Valor dever ser numérico!</span>
    </div>
  </div>
</div>
<div class="mdl-grid mdl-grid__full">
  <div class="mdl-cell mdl-cell--12-col">Tipo:</div>
  <div class="mdl-cell mdl-cell--12-col">
    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="type1">
      <input class="mdl-radio__button" id="type1" name="fileType" type="radio" ng-checked="radioOnOff('dev')">
      <span class="mdl-radio__label">Envio Novos Devedores</span>
    </label>
    <br />
    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="type2">
      <input class="mdl-radio__button" id="type2" name="fileType" type="radio" ng-checked="radioOnOff('sld')">
      <span class="mdl-radio__label">Envio Saldos</span>
    </label>
    <br />
    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="type3">
      <input class="mdl-radio__button" id="type3" name="fileType" type="radio" ng-checked="radioOnOff('resp')">
      <span class="mdl-radio__label">Disseminação Saldos Centralizados</span>
    </label>
  </div>
</div>

<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--12-col">
    <div class="ngdialog-buttons">
      <button type="button" class="ngdialog-button ngdialog-button-primary ngdialog-button__left" ng-click="upload()">Upload</button>
    </div>
  </div>
</div>
<script>
  'use strict';
  ;( function ( document, window, index )
    {
    var inputs = document.querySelectorAll( '.inputfile' );
    Array.prototype.forEach.call( inputs, function( input ) {
      var label	    = input.nextElementSibling,
          labelVal  = label.innerHTML;

      input.addEventListener( 'change', function( e ) {
        var fileName = '';
        fileName = e.target.value.split( '\\' ).pop();
        console.log('fileName: ', fileName);
        if( fileName )
          label.querySelector( 'span' ).innerHTML = fileName;
        else
          label.innerHTML = labelVal;
      });

      // Firefox focus bug fix
      input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
      input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
    });
  }( document, window, 0 ));
</script>